<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>TraidNest</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Buy and sell fairly used items with ease"/>
    <meta name="author" content="TraidNest" />

    <meta property="og:title" content="Buy and Sell With Ease" />
    <meta property="og:description" content="Buy and sell fairly used items with ease" />
    <meta property="og:image" content="https://traid-nest.vercel.app/Logo.png" />
    <meta property="og:url" content="https://traid-nest.vercel.app/" />

    <!-- Twitter preview -->
    <meta name="twitter:card" content="Buy and Sell With Ease" />
    <meta name="twitter:url" content="https://traid-nest.vercel.app/" />
    <meta name="twitter:title" content="TraidNest" />
    <meta name="twitter:description" content="Buy and sell fairly used items with ease" />
    <meta name="twitter:image" content="https://traid-nest.vercel.app/Logo.png" />
    
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
      <div id="chatbot-icon">üí¨</div>

 <div id="chatbot-window" class="hidden">
   <div id="chat-messages"></div>
   <form id="chat-form">
     <input type="text" id="chat-input" placeholder="Ask about a product..." />
     <button type="submit">Send</button>
   </form>
 </div>

 ...
  <!-- Your chatbot UI here -->

  <script>
    // JavaScript logic starts here
    const chatIcon = document.getElementById('chatbot-icon');
    const chatWindow = document.getElementById('chatbot-window');
    const chatForm = document.getElementById('chat-form');
    const chatInput = document.getElementById('chat-input');
    const chatMessages = document.getElementById('chat-messages');

    chatIcon.addEventListener('click', () => {
      chatWindow.classList.toggle('hidden');
    });

    chatForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const prompt = chatInput.value.trim();
      if (!prompt) return;

      chatMessages.innerHTML += `<div><strong>You:</strong> ${prompt}</div>`;
      chatInput.value = "";

      try {
        const response = await fetch('/api/generate-description', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ prompt })
        });
        const data = await response.json();
        chatMessages.innerHTML += `<div><strong>Bot:</strong> ${data.result}</div>`;
        chatMessages.scrollTop = chatMessages.scrollHeight;
      } catch (err) {
        chatMessages.innerHTML += `<div><strong>Bot:</strong> ‚ùå Error connecting to server.</div>`;
      }
    });
  </script>

  </body>
</html>
